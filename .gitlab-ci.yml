checks:shellcheck:
  stage: checks
  tags:
    - docker
  script:
    - shellcheck -x -e SC1117 $(grep -l '^#!/bin/\(ba\)\?sh' $(sudo git ls-files))

checks:pylint:
  stage: checks
  tags:
    - docker
  script:
    - find ./ -type f -name '*.py' | xargs pylint-3 --exit-zero

include:
- file: /r4.1/gitlab-base.yml
  project: QubesOS/qubes-continuous-integration
- file: /r4.1/gitlab-dom0.yml
  project: QubesOS/qubes-continuous-integration
- file: /r4.1/gitlab-vm-fedora.yml
  project: QubesOS/qubes-continuous-integration
- file: /r4.1/gitlab-vm-debian.yml
  project: QubesOS/qubes-continuous-integration
- file: /r4.2/gitlab-base.yml
  project: QubesOS/qubes-continuous-integration
- file: /r4.2/gitlab-host.yml
  project: QubesOS/qubes-continuous-integration
- file: /r4.2/gitlab-vm.yml
  project: QubesOS/qubes-continuous-integration
